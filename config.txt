# CLIProxyAPI 配置 - 三端互转 (OpenAI ↔ Claude/Anthropic ↔ Codex/Responses)
# 代理密钥 - GCMP 使用此密钥访问代理

# Server host/interface to bind to
host: ""

# Cloud deployment listen port (must not be 0)
port: 8000

api-keys:
  - haimichenha

# 管理密钥
management-api-key: gcmp-management

# 容器内认证文件目录（必须显式设置，避免 auth-dir 为空导致启动失败）
auth-dir: /root/.cli-proxy-api

# ============================================================
# Payload 配置 - 让请求更贴近 Claude Code 形态
# 注意：不要 filter system / metadata.user_id / thinking
#       因为 cloak 会注入这些字段，filter 在 cloak 之后执行会删掉它们
# ============================================================
payload:
  filter:
    - models:
        - name: "anyrouterclaude-*"
          protocol: claude
      params:
        - top_p
        - top_k

    - models:
        - name: "claude-*"
          protocol: claude
      params:
        - top_p
        - top_k

# ============================================================
# Claude/Anthropic 原生端点 (用于 /v1/messages)
# anyrouter 需要 Claude Code 身份验证
# headers 中强制设置 User-Agent 覆盖 GCMP 的 UA
# （因为 EnsureHeader 不会覆盖客户端已有的 header，
#   但 config headers 通过 ApplyCustomHeadersFromAttrs 用 Set() 强制覆盖）
# ============================================================
claude-api-key:
  - name: anyrouter
    base-url: https://anyrouter.top
    api-key: sk-K1KqwBtD3GBVeG4LwJqmUTEyOxiw6m9ZaLxr8ULTBCcB7rwz
    headers:
      User-Agent: "claude-cli/1.0.83 (external, cli)"
    cloak:
      mode: always
      strict-mode: true
    models:
      - name: claude-opus-4-5-20251101
        alias: anyrouterclaude-opus-4-5
      - name: claude-haiku-4-5-20251001
        alias: anyrouterclaude-haiku-4-5
      - name: claude-opus-4-6
        alias: anyrouterclaude-opus-4-6

  - name: anyrouter-2
    base-url: https://anyrouter.top
    api-key: sk-3I0jIsf9Tjdy7ym0eeBfxgaYFPbDM98R3AnbHqoiRURzEbsd
    headers:
      User-Agent: "claude-cli/1.0.83 (external, cli)"
    cloak:
      mode: always
      strict-mode: true
    models:
      - name: claude-sonnet-4-20250514
        alias: anyrouterclaude-sonnet-4-20250514

# ============================================================
# OpenAI 兼容端点 (用于 /v1/chat/completions)
# ============================================================
openai-compatibility:
  - name: feisakura
    base-url: https://api.feisakura.fun/v1
    api-key-entries:
      - api-key: sk-KtxnuaX7AWOOk2SDSuYJQ4lkw8h79fTsHqs4GxY5R5Ssi3S6
    models:
      - name: claude-opus-4-5-20251101
        alias: xyclaude-opus-4-5
      - name: claude-opus-4-6
        alias: xyclaude-opus-4-6
      - name: claude-opus-4-6-20260205
        alias: xyclaude-opus-4-6-20260205

  - name: claudex
    base-url: https://claudex.us.ci/v1
    api-key-entries:
      - api-key: sk-uSN67Z0OhzkHkeQX5IZ9mKGo9ncGByOJNJY5Ytmh4Ff5sxze
    models:
      - name: claude-opus-4-6
        alias: fancoclaude-opus-4-6
      - name: claude-opus-4-5-20251101
        alias: fancoclaude-opus-4-5-20251101
      - name: claude-opus-4-5
        alias: fancoclaude-opus-4-5
      - name: gpt-5.3-codex
        alias: fancogpt-5.3-codex
      - name: gpt-5.2-codex
        alias: fancogpt-5.2-codex

# ============================================================
# Codex/Responses 端点 (用于 /v1/responses)
# ============================================================
codex-api-key:
  - name: kfc-responses
    base-url: https://kfc-api.sxxe.net
    api-key: sk-hrznz62Miv83blM3YdBas7YthFrVqVd5xCdAUowzwPYVZIti
    models:
      - name: gpt-5.3-codex-xhigh
        alias: kfcgpt-5.3-codex-xhigh
      - name: gpt-5.3-codex
        alias: kfcgpt-5.3-codex
      - name: gpt-5.2-xhigh
        alias: kfcgpt-5.2-xhigh
      - name: gpt-5.2-codex-xhigh
        alias: kfcgpt-5.2-codex-xhigh

  - name: kfc-responses-2
    base-url: https://kfc-api.sxxe.net
    api-key: sk-USJrjyL8OPXR7RbZgyC8w4gdmTZB6cWxm8HPolhqfDD9TJIU
    models:
      - name: gpt-5.3-codex-xhigh
        alias: kfcgpt-5.3-codex-xhigh
      - name: gpt-5.3-codex
        alias: kfcgpt-5.3-codex
      - name: gpt-5.2-xhigh
        alias: kfcgpt-5.2-xhigh
      - name: gpt-5.2-codex-xhigh
        alias: kfcgpt-5.2-codex-xhigh

  - name: wzw-responses
    base-url: https://wzw.pp.ua
    api-key: sk-WvTzFcpVLf4ADuMmMUxb0DIUViKbL4veHjpuzPI96j3RJyx1
    models:
      - name: gpt-5.3-codex
        alias: wonggpt-5.3-codex
      - name: gpt-5.2-codex
        alias: wonggpt-5.2-codex
      - name: gpt-5.2
        alias: wonggpt-5.2

  - name: wzw-responses-2
    base-url: https://wzw.pp.ua
    api-key: sk-pH7jCaocIbEbinneux3bgmGnk0hV8ftvW7ZCjRJCoBw9uj28
    models:
      - name: claude-opus-4-5-20251101
        alias: wongclaude-opus-4-5-20251101
      - name: claude-opus-4-5
        alias: wongclaude-opus-4-5
      - name: claude-opus-4-6
        alias: wongclaude-opus-4-6

  - name: x666-responses
    base-url: https://x666.me
    api-key: sk-wT2gX2xM1S1uSeNFjTOL1UBxoHah8sI1wP2IOp1ORW6S8X7p
    models:
      - name: gpt-5.3-codex
        alias: bhgpt-5.3-codex
      - name: gpt-5.2-high
        alias: bhgpt-5.2-high
      - name: gpt-5.2-codex
        alias: bhgpt-5.2-codex
